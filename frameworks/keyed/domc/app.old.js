!function(){"use strict";const e=(e,t)=>{const n=`__${t}`;let i=e.target,o=`__${t}Data`;for(;null!==i;){const t=i[n];if(t)return void(i[o]?t(i[o]):t(e));i=i.parentNode}},t={};function n(n){t[n]||(document.addEventListener(n,t=>e(t,n)),t[n]=!0)}function i(){const{possible:e,n:t}=i;let n,o=t.toString(26).split(""),r="";for(;n=o.shift();)r+=e[parseInt(n,26)];return i.n++,r}i.possible="abcdefghijklmnopqrstuvwxyz",i.n=0;const o={};class r{constructor(){this.varCode=this.vdomCode=this.compareCode=this.refsCode=this.directiveSetupCode=this.directiveUpdateCode="",this.scopeVars={},this.component=null}compile(e){let t,n,i,o,r=!1,s="node",d=e;if(!((o=this.codegen(d,s))>0)){s="";do{if(!r&&(t=d.firstChild)){if(3===t.nodeType&&""===t.nodeValue.trim()){t.parentNode.removeChild(t);continue}r=!1,n=s,s+="_f",this.varCode+=`let ${s} = ${n||"node"}.firstChild;\n`,(o=this.codegen(t,s))>0&&(r=!0)}else if(t=d.nextSibling){if(3===t.nodeType&&""===t.nodeValue.trim()){t.parentNode.removeChild(t);continue}r=!1,n=s,s+="_n",this.varCode+=`let ${s} = ${n||"node"}.nextSibling;\n`,(o=this.codegen(t,s))>0&&(r=!0)}else s="n"===s[(i=s.length)-1]?s.slice(0,s.lastIndexOf("_f_n")):s.slice(0,i-2),t=d.parentNode,r=!0;if((d=t)===e)break}while(d)}}codegen(e,t){let r=e.nodeType,s=e.nodeName;if(8===r){const n=e.nodeValue.trim();return"#"===n[0]&&("#"===n[1]?this.directiveSetupCode+=`for(let i = 0; i < scope.${n.slice(2)}.length; i++) ${t}.parentNode.insertBefore(scope.${n.slice(2)}[i], ${t});\n${t}.parentNode.removeChild(${t});\n`:this.directiveSetupCode+=`${t}.parentNode.replaceChild(scope.${n.slice(1)}, ${t});\n`),0}if(3!==r){if(void 0!==e.attributes){let r=[];for(let s of e.attributes){let d=s.name,l=s.value;if("i"===d[0]&&"s"===d[1]){if(e.removeAttribute(d),"node"===t)this.component=o[l](e);else{const e=i();this.directiveSetupCode+=`let __${e} = utils["${l}"](${t})(scope);\n${t}.parentNode.replaceChild(__${e}, ${t});\n`,this.directiveUpdateCode+=`  __${e}.update(scope);\n`}return 1}if("v"===d[0]&&"-"===d[1]){e.removeAttribute(d);const n=d.slice(2),o=i();return this.directiveSetupCode+=`let __${o} = utils.${n}(${t}, "${l}");\n`,this.directiveUpdateCode+=`    __${o}(scope);\n`,1}if("o"===d[0]&&"n"===d[1]){const e=d.slice(2);n(e);const o=l,s=o.indexOf("(");let c,a;if(s>=0){c=o.slice(0,s);const e=o.slice(s+1,o.length-1);a=e.length>0?e.split(","):[]}else c=o,a=[];if(a.length>0){const n=i();this.refsCode+=`${t}.__${e} = scope.${c};\n`,this.vdomCode+=`    vdom.${n} = ${a};\n`,this.compareCode+=`    if (current.${n} !== vdom.${n}) ${t}.__${e}Data = vdom.${n};\n`}else this.refsCode+=`${t}.__${e} = scope.${c};\n`;r.push(d);for(let e,t,n=0;n<a.length;n++)(e=(t=a[n]).charCodeAt(0))>=97&&e<=122&&(t.indexOf(".")>=0?this.scopeVars[t.slice(0,t.indexOf("."))]=!0:this.scopeVars[t]=!0)}else if(l.indexOf("{{")>=0){if("class"===d){const e=i();this.vdomCode+=`    vdom.${e} = \`${l.replace(/{{/g,"${").replace(/}}/g,"}")}\`;\n`,this.compareCode+=`    if (current.${e} !== vdom.${e}) ${t}.className = vdom.${e};\n`}else if("style"===d){let e=l.replace("{{","").replace("}}","").trim();this.directiveSetupCode+="let __style = node.style;\n",this.directiveUpdateCode+=`    let scopeStyle = scope.${e};\n    for(let key in scopeStyle) if(scopeStyle[key] !== __style[key]) __style[key] = scopeStyle[key];\n`}else{const e=i();this.vdomCode+=`    vdom.${e} = \`${l.replace(/{{/g,"${").replace(/}}/g,"}")}\`;\n`,this.compareCode+=`    if (current.${e} !== vdom.${e}) ${t}.setAttribute("${d}", vdom.${e});\n`}let e,n,o;for(;(e=l.indexOf("{{"))>=0;){n=l.indexOf("}}"),o=l.slice(e+2,n).split(/[\s\(\)]/g);for(let e,t,n=0;n<o.length;n++)(e=(t=o[n]).charCodeAt(0))>=97&&e<=122&&(t.indexOf(".")>=0?this.scopeVars[t.slice(0,t.indexOf("."))]=!0:this.scopeVars[t]=!0);l=l.slice(n+1)}r.push(d)}}for(let t of r)e.removeAttribute(t)}}else{let n=e.nodeValue.trim();if(n.indexOf("{{")>=0){const o=i();let r,s,d;for(this.vdomCode+=`    vdom.${o} = \`${n.replace(/{{/g,"${").replace(/}}/g,"}")}\`;\n`,this.compareCode+=`    if (current.${o} !== vdom.${o}) ${t}.nodeValue = vdom.${o};\n`,e.nodeValue="";(r=n.indexOf("{{"))>=0;){s=n.indexOf("}}"),d=n.slice(r+2,s).split(/[\s\(\)]/g);for(let e,t,n=0;n<d.length;n++)(e=(t=d[n]).charCodeAt(0))>=97&&e<=122&&(t.indexOf(".")>=0?this.scopeVars[t.slice(0,t.indexOf("."))]=!0:this.scopeVars[t]=!0);n=n.slice(s+1)}}}if(s.indexOf("-")>0){if("node"===t)this.component=o[s.toLowerCase()](e);else{const e=i();this.directiveSetupCode+=`let __${e} = utils["${s.toLowerCase()}"](${t})(scope);\n${t}.parentNode.replaceChild(__${e}, ${t});\n`,this.directiveUpdateCode+=`  __${e}.update(scope);\n`}return 1}return 0}createFn(){if(this.component)return this.component;let e="";for(let t of Object.keys(this.scopeVars))e+=t+",";return Function("scope","node","utils","rehydrate","if (rehydrate !== true) node = node.cloneNode(true);\n"+this.varCode+"\n"+this.refsCode+"\n"+this.directiveSetupCode+"\n"+`let current = {};\nnode.update = function(scope) {\n${this.vdomCode.length>0?`    const {${e}} = scope;\n\n    const vdom = {};\n${this.vdomCode}\n${this.compareCode}\n    current = vdom;\n`:""}\n${this.directiveUpdateCode}}\n`+"return node;")}}class s{constructor(e,t){this.dom=e,this.create=t}createInstance(e){const t=this.create(e,this.dom,o);return t.update(e),t}rehydrate(e){this.create(e,this.dom,o,!0),this.dom.update(e)}}function d(e){const t=new r;t.compile(e);const n=t.createFn();return new s(e,n)}d.customDirectives=o;const l=document.createElement("template");function c(e,t){var n=-1,i=e.length;if(i>0&&e[i-1]<=t)return i-1;for(;i-n>1;){var o=Math.floor((n+i)/2);e[o]>t?i=o:n=o}return n}d.component=function(e,t){let n,i,o;"string"==typeof t?n=t:(n=t.template,i=t.create,o=t.update),l.innerHTML=n.trim();let r=d(l.content.firstChild);d.customDirectives[e]=function(e){let t,n,s=1,d=void 0===i&&void 0===o,l=void 0===e.attributes||0===e.attributes.length,c=null===e.firstChild||1===e.childNodes.length&&3===e.firstChild.nodeType&&""===e.firstChild.nodeValue.trim();if(d&&l&&c&&(s=0),0===s)return Function("cNode","\n            return function(scope) { return cNode.createInstance(scope) }\n        ")(r);if(!l){let n="const vs = {};\n";for(let t of e.attributes)n+=`vs["${t.name}"] = scope["${t.value}"];\n`;t=Function("scope",n+"return vs;\n")}return c||(n=Array.from(e.childNodes)),e=>{let s,d,l=Object.assign({nodeRender:()=>{o&&Object.assign(l,o(l)),d(l)}},e);return t&&Object.assign(l,t(l)),l.children=n,i&&Object.assign(l,i(l)),l.node=s=r.createInstance(l),d=s.update,s.update=function(e){Object.assign(l,e,l),t&&Object.assign(l,t(l),l),o&&Object.assign(l,o(l)),d(l)},s}}},d.app=function(e){l.innerHTML=e.trim();let t=d(l.content.firstChild);return function(e){let n;return e.render=()=>n.update(e),n=t.createInstance(e)}},o.for=function(e,t="item of data"){const n=e.parentNode;n.textContent="";let i=[];const o=t.indexOf(" of "),r=t.slice(o+4),s=t.slice(0,o),l=d(e);return e=>{const t=Object.assign({},e),o=e[r];!function(e,t,n,i,o){if(0===n.length)return void(e.textContent="");if(0===t.length){let t;for(let o=0,r=n.length;o<r;o++)t=i(n[o]),e.appendChild(t);return}let r,s,d,l=0,a=0,f=!0,u=t.length-1,p=n.length-1,h=e.firstChild,v=h,m=e.lastChild,$=m;e:for(;f;){let i;for(f=!1,r=t[l],s=n[a];r===s;){if(o(h,s),l++,a++,v=h=h.nextSibling,u<l||p<a)break e;r=t[l],s=n[a]}for(r=t[u],s=n[p];r===s;){if(o(m,s),u--,p--,d=m,$=m=m.previousSibling,u<l||p<a)break e;r=t[u],s=n[p]}for(r=t[u],s=n[a];r===s;){if(f=!0,o(m,s),i=m.previousSibling,e.insertBefore(m,v),$=m=i,a++,--u<l||p<a)break e;r=t[u],s=n[a]}for(r=t[l],s=n[p];r===s;){if(f=!0,o(h,s),i=h.nextSibling,e.insertBefore(h,d),d=$=h,h=i,p--,u<++l||p<a)break e;r=t[l],s=n[p]}}if(p<a){if(l<=u){let t;for(;l<=u;)0===u?e.removeChild(m):(t=m.previousSibling,e.removeChild(m),m=t),u--}return}if(u<l){if(a<=p){let t;for(;a<=p;)t=i(n[a]),e.appendChild(t),a++}return}const g=new Array(p+1-a);for(let e=a;e<=p;e++)g[e]=-1;const C=new Map;for(let e=a;e<=p;e++)C.set(n[e],e);let b=0,y=[];for(let e=l;e<=u;e++)C.has(t[e])?(g[C.get(t[e])]=e,b++):y.push(e);if(0===b){let t;e.textContent="";for(let o=a;o<=p;o++)t=i(n[o]),e.appendChild(t);return}const _=function(e,t){for(var n=[],i=[],o=-1,r=new Array(e.length),s=t,d=e.length;s<d;s++){var l=e[s];if(!(l<0)){var a=c(n,l);-1!==a&&(r[s]=i[a]),a===o?(n[++o]=l,i[o]=s):l<n[a+1]&&(n[a+1]=l,i[a+1]=s)}}for(s=i[o];o>=0;s=r[s],o--)n[o]=s;return n}(g,a),x=[];let O=h;for(let e=l;e<=u;e++)x[e]=O,O=O.nextSibling;for(let t=0;t<y.length;t++)e.removeChild(x[y[t]]);let S,k=_.length-1;for(let t=p;t>=a;t--)_[k]===t?(d=x[g[_[k]]],o(d,n[t]),k--):(-1===g[t]?S=i(n[t]):(S=x[g[t]],o(n[t])),e.insertBefore(S,d),d=S)}(n,i,o,e=>(t[s]=e,l.createInstance(t)),(e,n)=>{t[s]=n,e.update(t)}),i=o.slice(0)}};var a=1,f=function(e){for(var t=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],n=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],i=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],o=[],r=0;r<e;r++)o.push({id:a++,label:t[u(t.length)]+" "+n[u(n.length)]+" "+i[u(i.length)]});return o},u=function(e){return Math.round(1e3*Math.random())%e},p={add:function(){p.data=p.data.concat(f(1e3)),h.update(p)},run:function(){p.data=f(1e3),h.update(p)},runLots:function(){p.data=f(1e4),h.update(p)},clearData:function(){p.data=[],h.update(p)},update:function(){for(var e=p.data,t=0;t<e.length;t+=10)e[t].label+=" !!!";h.update(p)},swapRows:function(){var e=p.data;if(e.length>998){var t=e[1];e[1]=e[998],e[998]=t}h.update(p)},del:function(e){var t=e.id,n=p.data,i=n.findIndex(function(e){return e.id===t});n.splice(i,1),h.update(p)},select:function(e){p.selected=parseInt(e.id),h.update(p)},selected:0,data:[]},h=document.getElementById("main");d(h).rehydrate(p)}();
//# sourceMappingURL=app.min.js.map
